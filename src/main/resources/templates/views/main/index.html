<!DOCTYPE html>
<html xmlns:th="http//www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

    <div layout:fragment="content">
    <script>
    	$(function(){
    		$("#driveInsertBtn").click(function(){
    			var carNumber = $("#carSelect").val();
                $("#carNumber").val(carNumber);
    			
    			
    			$("#mainDriveFm").attr("method", "post");
    			$("#mainDriveFm").attr("action", "/driveInfoInsert");
    			$("#mainDriveFm").submit();
    		})
    		
    		$("#driveInfo").click(function(){
    			
    			var carNumber = $("#carSelect").val();
                $("#carNumber").val(carNumber);
    			
    			$("#mainDriveFm").attr("method", "get");
    			$("#mainDriveFm").attr("action", "/driveInfo");
    			$("#mainDriveFm").submit();
    		})
    		
    		$("#driveStatistics").click(function(){
    			window.location.href = "/driveStatistics";
    		})
    		
    		
    		$("#signInBtn").click(function(){
    			window.location.href = "/signIn";
    		})
    		
    		$("#signUpBtn").click(function(){
    			window.location.href = "/signUp";
    		})
    		
    		$("#carInsertVw").click(function(){
    			window.location.href = "/carInsertVw";
    		})
    		
    		// 페이지 로드될 때 셀렉트 요소의 값을 입력란에 설정
       		// $('#carNumber').val($('#carSelect').val());
    		
    		  // 셀렉트 요소의 값이 변경될 때마다 입력란의 값도 업데이트
    		//  $('#carSelect').change(function() {
    	     //       $('#carNumber').val($(this).val());
    	   //   });
    		
    	})
    </script>
    
    	<form id="mainDriveFm">
    		<input type="hidden" name="carNumber" id="carNumber" value=""/>
    	</form>
    
        
       <div class="card text-center" th:if="${!#lists.isEmpty(userInfo)}">
			  <div class="card-header">
			  		<!--  <div th:if="${!#lists.isEmpty(list)}" th:each="driveInfo, iterStat : ${list}" class="mb-4" th:classappend="${iterStat.index < 1} ? 'driveInfoOne' : ''">
	  --> 		  <h5 class="card-title">2024년 3월 2일 입니다</h5>
			  		<select class="form-select form-select-lg mb-3" aria-label="Large select example" id="carSelect">
						  <option th:each="userInfo : ${userInfo}" th:text="${userInfo.carNumber}" th:selected="${userInfo.mainCar == 'Y'}"></option>
					</select>
			  </div>
			  <div class="card-body">
				  	<div>
				  		<button type="button" class="btn btn-primary btn-lg" id="driveInsertBtn">운행정보 입력</button>
				  	</div>
				  	<div>
				  		<button type="button" class="btn btn-primary btn-lg" id="driveInfo">운행정보 조회</button>
				  	</div>
				  	<div>
				  		<button type="button" class="btn btn-primary btn-lg" id="driveStatistics">통계보기</button>
				  	</div>
				  <!-- 	<div>
				  		<button type="button" class="btn btn-primary btn-lg" id="">게시판</button>
				  	</div> -->
			  	
				   
			  </div>
			  <div class="card-footer text-body-secondary">
			    2 days ago
			  </div>
		</div>
		
		<!-- 로그인 됐는데 등록된 차량이 없을 경우 -->
		<!-- <div class="card text-center" th:if="${#lists.isEmpty(userInfo)}"> -->
		<div class="card text-center">
			  <div class="card-header">
			    <h5 class="card-title">차량을 등록해주세요</h5>
			  </div>
			  <div class="card-body">
			  		<div>
			  			<p>현재 등록된 차량이 없습니다. 새로운 차량을 등록하고 운행일지를 작성해보세요.</p>
			  		</div>
			  		<div>
				  		<button type="button" class="btn btn-primary btn-lg" id="carInsertVw">차량등록</button>
				  	</div>
			  </div>
			  <div class="card-footer text-body-secondary">
			    2 days ago
			  </div>
		</div>
		<!-- 로그인 됐는데 등록된 차량이 없을 경우 끝 -->
		
		
		<!-- 로그인 안했을 경우 -->
		<div class="card text-center">
			  <div class="card-header">
			    <h5 class="card-title">로그인 해주세요</h5>
			  </div>
			  <div class="card-body">
			  		<div>
			  			<p>회원가입하시고 여러가지 서비스를 이용해보세요.</p>
			  		</div>
			  		<div>
				  		<button type="button" class="btn btn-primary btn-lg" id="signInBtn">로그인</button>
				  	</div>
				  	<div>
				  		<button type="button" class="btn btn-primary btn-lg" id="signUpBtn">회원가입</button>
				  	</div>
			  </div>
			  <div class="card-footer text-body-secondary">
			    2 days ago
			  </div>
		</div>
		<!-- 로그인 안했을 경우 끝 -->
		
		<div class="card text-center">
			  <div class="card-header">
			    <h5 class="card-title">날씨</h5>
			  </div>
			  <div class="card-body">
			  		현재기온 : -5 <br>
				    오늘 비 예보가 있습니다. <br>
				    내일은 화창합니다.
			  </div>
			  <div class="card-footer text-body-secondary">
			    2 days ago
			  </div>
		</div>
		
		
        
        
    </div>

</html>